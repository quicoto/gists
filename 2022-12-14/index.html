<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Convert all JPG images to webP | Ricard's code gists</title><style>:root{--primary:#0fd78c;--body-background:#162c35}::selection{background:#fdbb2d;color:var(--body-background)}html{background-attachment:fixed;background:linear-gradient(45deg,#22c1c3 0%,#fdbb2d 100%);font:20px/1.6 sans-serif;min-height:100lvh;margin:0;padding:0 1rem 1rem}body{font-family:system-ui,-apple-system,segoe ui,Roboto,helvetica neue,noto sans,liberation sans,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol,noto color emoji;font-size:1rem;font-weight:300;line-height:1.5em;margin:1rem auto;max-width:70ch}main{background:var(--body-background);color:#fff;padding:1rem}.main-navigation{display:flex;justify-content:space-between}.main-navigation ul{display:flex;font-weight:400;gap:1rem;justify-content:end;list-style-type:none;margin:0 0 1rem;padding:0}.main-navigation a{color:var(--body-background)}a{color:var(--primary);text-decoration:none}a:hover{text-decoration:underline}h1{font-weight:400;line-height:1em}.site-title{font-weight:400;text-align:center;font-size:1.5rem;margin:0 0 1rem}p{margin:0 0 1rem}pre{margin-bottom:1rem}pre code{color:var(--body-background);display:block;border:none;padding:1em;background:0 0;overflow-x:auto}code{background:var(--primary);padding:0 .2em;font-family:courier new,Courier,monospace}time{display:inline-block;min-width:110px}.tag-list{display:flex;flex-wrap:wrap;line-height:1.9rem;list-style-type:none;gap:.5rem;margin:0;padding:0}.tag-list a{border:1px solid;padding:.3em .5em}.tag-list a:hover{background:var(--primary);color:var(--body-background);text-decoration:none}.edit-github{text-align:right;margin-bottom:1rem}</style></head><body class=gists><nav id=site-navigation class=main-navigation><ul><li><a href=https://ricard.dev/gists/tags/ title=Tags>#Tags</a></li></ul><ul id=menu-top class=menu><li><a href=https://ricard.blog/ title="Ricard Torres Blog">Blog</a></li><li><a href=https://ricard.dev/ title="Ricard Torres dev">Dev</a></li><li><a href=https://ricard.social/@ricard title=@ricard@ricard.social>Fediverse</a></li></ul></nav><main><header><p class=site-title><a href=https://ricard.dev/gists/>Ricard's code gists</a></p><hr><h1>Convert all JPG images to webP</h1></header><article><p>It loops through all the jpg images in the folder and converts them to webP with the given configuration of quality and size.</p><p>It requres <a href=https://developers.google.com/speed/webp/docs/cwebp>cwebp</a> to be installed on the machine.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000;font-weight:700>for</span> file in *.jpg; <span style=color:#000;font-weight:700>do</span> cwebp -q <span style=color:#099>85</span> -m <span style=color:#099>6</span> -resize <span style=color:#099>1800</span> <span style=color:#099>0</span> -metadata none <span style=color:#d14>&#34;</span><span style=color:teal>$file</span><span style=color:#d14>&#34;</span> -o <span style=color:#d14>&#34;</span><span style=color:#d14>${</span><span style=color:teal>file</span>%.*<span style=color:#d14>}</span><span style=color:#d14>.webp&#34;</span>; <span style=color:#000;font-weight:700>done</span></span></span></code></pre></div><aside class=edit-github><a target=_blank href=https://github.com/quicoto/gists/blob/main/content/writing/2022-12-14.md>View on GitHub</a></aside></article><footer><ul class=tag-list><li><a href=https://ricard.dev/gists/tags/bash/># bash</a></li><li><a href=https://ricard.dev/gists/tags/images/># images</a></li><li><a href=https://ricard.dev/gists/tags/webp/># webp</a></li></ul></footer></main></body></html>